<h1 class="m-5">Tasks</h1>

<ul class="list-group">
  <% @tasks.each do |task| %>
    <li class="list-group-item">
      <div class="d-flex justify-content-between">
        <div>
          <%= check_box_tag :checkbox, 1, { checked: task.completed ? true : false } %>

          <% if params[:checkbox] == 1 %>
            <% task.completed = true %>
            <% task.save %>
          <% end %>

          <%= link_to task.title, task_path(task),
              class: "ml-3" %> 
        </div>
        <div>
          <%= link_to "", edit_task_path(task), 
              class: "fas fa-edit ml-3"%> 
          <%= link_to "", task_path(task), 
              method: :delete, 
              data: { confirm: 'Are you sure?' },
              class: "fas fa-trash ml-3"
          %>
        </div>
      </div>
    </li>
  <% end %>
</ul>

<%= link_to "New task", new_task_path, class: "btn btn-primary m-5" %>